(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{211:function(a,t,s){"use strict";s.r(t);var e=s(0),r=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"域名管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#域名管理","aria-hidden":"true"}},[a._v("#")]),a._v(" 域名管理")]),a._v(" "),s("p",[a._v("我们都喜欢在开发中使用漂亮的域名，例如 .dev 。在本文中，我们将学习如何将自定义域绑定到你的应用，而不是访问 localhost 。")]),a._v(" "),s("blockquote",[s("p",[a._v("该技术没有技术优势或劣势，而是用作个人偏好。")])]),a._v(" "),s("h2",{attrs:{id:"设置-hotel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置-hotel","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置 hotel")]),a._v(" "),s("p",[a._v("第一步是设置一个名为 hotel 的外部工具。它允许你注册应用程序或 URL 的域。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g hotel\n")])])]),s("p",[a._v("接下来，我们需要 port=2000 使用以下命令将其作为守护程序启动。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("hotel start\n")])])]),s("p",[a._v("运行后，你可以运行 hotel ls 命令以查看已注册的应用/域的列表。")]),a._v(" "),s("h2",{attrs:{id:"设置代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置代理","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置代理")]),a._v(" "),s("p",[a._v("让我们从理论上理解这是如何工作的。我们需要告诉我们的浏览器或系统网络通过一个代理，该代理服务于我们的 .dev 应用程序或将请求传递到实际的 URL 。")]),a._v(" "),s("p",[a._v("整个代理过程非常轻量级，不会影响你的系统性能或速度。")]),a._v(" "),s("p",[a._v("现在我们知道，所有魔法都是通过代理完成的，让我们更新浏览器/系统的设置以通过 hotel 代理传递。")]),a._v(" "),s("h3",{attrs:{id:"系统配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 系统配置")]),a._v(" "),s("p",[a._v("我们需要将网络指向 http://localhost:2000/proxy.pac 文件。")]),a._v(" "),s("h4",{attrs:{id:"mac-osx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac-osx","aria-hidden":"true"}},[a._v("#")]),a._v(" Mac OSX")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Network Preferences > Advanced > Proxies > Automatic Proxy Configuration\n")])])]),s("h4",{attrs:{id:"windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows","aria-hidden":"true"}},[a._v("#")]),a._v(" windows")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Settings > Network and Internet > Proxy > Use setup script\n")])])]),s("h4",{attrs:{id:"linux（ubuntu）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux（ubuntu）","aria-hidden":"true"}},[a._v("#")]),a._v(" Linux（ubuntu）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("System Settings > Network > Network Proxy > Automatic\n")])])]),s("h3",{attrs:{id:"浏览器配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 浏览器配置")]),a._v(" "),s("p",[a._v("浏览器配置仅代理该浏览器的请求，而不是整个系统。")]),a._v(" "),s("h4",{attrs:{id:"chrome-exit-chrome-first"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chrome-exit-chrome-first","aria-hidden":"true"}},[a._v("#")]),a._v(" Chrome ( exit chrome first )")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# Linux\ngoogle-chrome --proxy-pac-url=http://localhost:2000/proxy.pac\n\n# OS X\nopen -a "Google Chrome" --args --proxy-pac-url=http://localhost:2000/proxy.pac\n')])])]),s("h4",{attrs:{id:"火狐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#火狐","aria-hidden":"true"}},[a._v("#")]),a._v(" 火狐")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Preferences > Advanced > Network > Connection > Settings > Automatic proxy URL configuration\n")])])]),s("h2",{attrs:{id:"与-adonisjs-集成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#与-adonisjs-集成","aria-hidden":"true"}},[a._v("#")]),a._v(" 与 AdonisJs 集成")]),a._v(" "),s("p",[a._v("现在 hotel 已经配置，我们可以独立于 AdonisJs 使用它来进行任何应用。但是，问题是所有注册的应用程序都会 hotel 永久映射，除非你手动删除它们。")]),a._v(" "),s("p",[a._v("此行为可能会导致问题，你希望你的一次性域在你的应用运行之前一直存在。")]),a._v(" "),s("p",[s("strong",[a._v("Adonis cli adonis serve")]),a._v(" 命令接受一个标志，该标志向 hotel 注册一次性域，并在你停止应用时将其删除。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("adonis serve --domain=yardstick@http://localhost:3333\n")])])]),s("p",[s("strong",[a._v("--domain")]),a._v(" 标志采用域和 URL 。在这种情况下")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("domain=yardstick\n\nurl=http://localhost:3333\n")])])])])},[],!1,null,null,null);t.default=r.exports}}]);